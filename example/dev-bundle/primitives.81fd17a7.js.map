{"mappings":"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","sources":["example/primitives.js","example/utils/getScaledSettings.js"],"sourcesContent":["import { Scene, SphereGeometry, MeshStandardMaterial, Mesh, BoxGeometry, PerspectiveCamera, ACESFilmicToneMapping, WebGLRenderer } from 'three';\r\nimport { WebGLPathTracer, GradientEquirectTexture } from '..';\r\nimport { getScaledSettings } from './utils/getScaledSettings.js';\r\n\r\n// init scene, renderer, camera, controls, etc\r\nconst scene = new Scene();\r\nconst sphereGeom = new SphereGeometry( 0.49, 64, 32 );\r\nconst ball1 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#e91e63',\r\n\t\troughness: 0.25,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ball2 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#ff9800',\r\n\t\troughness: 0.1,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ball3 = new Mesh(\r\n\tsphereGeom,\r\n\tnew MeshStandardMaterial( {\r\n\t\tcolor: '#2196f3',\r\n\t\troughness: 0.2,\r\n\t\tmetalness: 1,\r\n\t} )\r\n);\r\nconst ground = new Mesh(\r\n\tnew BoxGeometry( 3.5, 0.1, 1.5 ),\r\n\tnew MeshStandardMaterial(),\r\n);\r\n\r\nball1.position.x = - 1;\r\nball3.position.x = 1;\r\nground.position.y = - 0.54;\r\nscene.add( ball1, ball2, ball3, ground );\r\n\r\n// set the environment map\r\nconst texture = new GradientEquirectTexture();\r\ntexture.bottomColor.set( 0xffffff );\r\ntexture.bottomColor.set( 0x666666 );\r\ntexture.update();\r\nscene.environment = texture;\r\nscene.background = texture;\r\n\r\nconst camera = new PerspectiveCamera();\r\ncamera.position.set( 0, 1, - 5 );\r\ncamera.lookAt( 0, 0, 0 );\r\n\r\nconst renderer = new WebGLRenderer( { antialias: true } );\r\nrenderer.toneMapping = ACESFilmicToneMapping;\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\nconst settings = getScaledSettings();\r\nconst pathTracer = new WebGLPathTracer( renderer );\r\npathTracer.renderScale = settings.renderScale;\r\npathTracer.tiles.setScalar( settings.tiles );\r\npathTracer.setScene( scene, camera );\r\n\r\nonResize();\r\n\r\nanimate();\r\n\r\nwindow.addEventListener( 'resize', onResize );\r\n\r\nfunction animate() {\r\n\r\n\t// if the camera position changes call \"ptRenderer.reset()\"\r\n\trequestAnimationFrame( animate );\r\n\r\n\t// update the camera and render one sample\r\n\tpathTracer.renderSample();\r\n\r\n}\r\n\r\nfunction onResize() {\r\n\r\n\t// update rendering resolution\r\n\tconst w = window.innerWidth;\r\n\tconst h = window.innerHeight;\r\n\r\n\trenderer.setSize( w, h );\r\n\trenderer.setPixelRatio( window.devicePixelRatio );\r\n\r\n\tconst aspect = w / h;\r\n\tcamera.aspect = aspect;\r\n\tcamera.updateProjectionMatrix();\r\n\r\n\tpathTracer.setScene( scene, camera );\r\n\r\n}\r\n","export function getScaledSettings() {\r\n\r\n\tlet tiles = 3;\r\n\tlet renderScale = Math.max( 1 / window.devicePixelRatio, 0.5 );\r\n\r\n\t// adjust performance parameters for mobile\r\n\tconst aspectRatio = window.innerWidth / window.innerHeight;\r\n\tif ( aspectRatio < 0.65 ) {\r\n\r\n\t\ttiles = 4;\r\n\t\trenderScale = 0.5 / window.devicePixelRatio;\r\n\r\n\t}\r\n\r\n\treturn { tiles, renderScale };\r\n\r\n}\r\n"],"names":[],"version":3,"file":"primitives.81fd17a7.js.map","sourceRoot":"/__parcel_source_root/"}